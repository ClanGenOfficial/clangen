(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();var J=Array.isArray,Ct=Array.from,ot=Object.isFrozen,Ne=Object.defineProperty,G=Object.getOwnPropertyDescriptor,Nt=Object.prototype,St=Array.prototype,Rt=Object.getPrototypeOf;const Pe=2,pe=4,te=8,st=16,P=32,Fe=64,ne=128,F=256,D=512,ee=1024,K=2048,re=4096,Ot=8192,De=16384,k=Symbol("$state");function Lt(e){return e===this.v}function It(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pt(e){return!It(e,this.v)}const se=1,Me=2,Ft=4,ut=8,Dt=16,Se=64,Mt=1,qt=2,W=Symbol(),Ge=["touchstart","touchmove","touchend"];function O(e){return{f:0,reactions:null,equals:Lt,v:e,version:0}}function Re(e){var n;const t=O(e);return t.equals=Pt,g!==null&&g.l!==null&&((n=g.l).s??(n.s=[])).push(t),t}function C(e,t){var n=e.v!==W;if(!z&&n&&L!==null&&Le()&&L.f&Pe)throw new Error("ERR_SVELTE_UNSAFE_MUTATION");return e.equals(t)||(e.v=t,e.version++,Le()&&n&&w!==null&&w.f&F&&!(w.f&P)&&(T!==null&&T.includes(e)?(I(w,D),be(w)):j===null?Qt([e]):j.push(e)),Ue(e,D,!0)),t}function jt(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function zt(e){if(J(e))for(var t=0;t<e.length;t++){var n=e[t];n.isConnected&&n.remove()}else e.isConnected&&e.remove()}function Ht(e,t){if(e===null)throw new Error("ERR_SVELTE_ORPHAN_EFFECT");if(ze)throw new Error("ERR_SVELTE_EFFECT_IN_TEARDOWN")}function Ut(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ae(e,t,n){var i=(e&Fe)!==0,r={ctx:g,deps:null,dom:null,f:e|D,first:null,fn:t,last:null,next:null,parent:i?null:w,prev:null,teardown:null,transitions:null};if(L!==null&&!i&&Ut(r,L),n){var l=X;try{Ze(!0),Ee(r),r.f|=Ot}finally{Ze(l)}}else be(r);return r}function Vt(e){if(Ht(w),w.f&te&&g!==null&&!g.m){const n=g;(n.e??(n.e=[])).push(e)}else ye(e)}function Bt(e){const t=ae(Fe,e,!0);return()=>{ge(t)}}function ye(e){return ae(pe,e,!1)}function Qe(e){return ae(te,e,!0)}function qe(e,t=0){return ae(te|st|t,e,!0)}function ue(e){return ae(te|P,e,!0)}function at(e){var t=e.teardown;if(t!==null){const n=ze;Je(!0);try{t.call(null)}finally{Je(n)}}}function ge(e){var t=e.dom;if(t!==null&&zt(t),He(e),we(e,0),I(e,re),e.transitions)for(const l of e.transitions)l.stop();at(e);var n=e.parent;if(n!==null&&e.f&P&&n.first!==null){var i=e.prev,r=e.next;i!==null?r!==null?(i.next=r,r.prev=i):(i.next=null,n.last=i):r!==null?(r.prev=null,n.first=r):(n.first=null,n.last=null)}e.next=e.prev=e.teardown=e.ctx=e.dom=e.deps=e.parent=e.fn=null}function Oe(e,t){var n=[];je(e,n,!0),ft(n,()=>{ge(e),t&&t()})}function ft(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function je(e,t,n){if(!(e.f&K)){if(e.f^=K,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var r=i.next,l=(i.f&De)!==0||(i.f&P)!==0;je(i,t,l?n:!1),i=r}}}function he(e){ct(e,!0)}function ct(e,t){if(e.f&K){e.f^=K,fe(e)&&Ee(e);for(var n=e.first;n!==null;){var i=n.next,r=(n.f&De)!==0||(n.f&P)!==0;ct(n,r?t:!1),n=i}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}function oe(e,t=!0,n=null){if(typeof e=="object"&&e!=null&&!ot(e)){if(k in e){const r=e[k];if(r.t===e||r.p===e)return r.p}const i=Rt(e);if(i===Nt||i===St){const r=new Proxy(e,Kt);return Ne(e,k,{value:{s:new Map,v:O(0),a:J(e),i:t,p:r,t:e},writable:!0,enumerable:!1}),r}}return e}function Xe(e,t=1){C(e,e.v+t)}const Kt={defineProperty(e,t,n){if(n.value){const i=e[k],r=i.s.get(t);r!==void 0&&C(r,oe(n.value,i.i,i))}return Reflect.defineProperty(e,t,n)},deleteProperty(e,t){const n=e[k],i=n.s.get(t),r=n.a,l=delete e[t];if(r&&l){const o=n.s.get("length"),c=e.length-1;o!==void 0&&o.v!==c&&C(o,c)}return i!==void 0&&C(i,W),l&&Xe(n.v),l},get(e,t,n){var l;if(t===k)return Reflect.get(e,k);const i=e[k];let r=i.s.get(t);if(r===void 0&&(!(t in e)||(l=G(e,t))!=null&&l.writable)&&(r=(i.i?O:Re)(oe(e[t],i.i,i)),i.s.set(t,r)),r!==void 0){const o=A(r);return o===W?void 0:o}return Reflect.get(e,t,n)},getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){const r=e[k].s.get(t);r&&(n.value=A(r))}return n},has(e,t){var l;if(t===k)return!0;const n=e[k],i=Reflect.has(e,t);let r=n.s.get(t);return(r!==void 0||w!==null&&(!i||(l=G(e,t))!=null&&l.writable))&&(r===void 0&&(r=(n.i?O:Re)(i?oe(e[t],n.i,n):W),n.s.set(t,r)),A(r)===W)?!1:i},set(e,t,n,i){const r=e[k];let l=r.s.get(t);l===void 0&&(Ve(()=>i[t]),l=r.s.get(t)),l!==void 0&&C(l,oe(n,r.i,r));const o=r.a,c=!(t in e);if(o&&t==="length")for(let s=n;s<e.length;s+=1){const u=r.s.get(s+"");u!==void 0&&C(u,W)}if(e[t]=n,c){if(o){const s=r.s.get("length"),u=e.length;s!==void 0&&s.v!==u&&C(s,u)}Xe(r.v)}return!0},ownKeys(e){const t=e[k];return A(t.v),Reflect.ownKeys(e)}};function dt(e){He(e);var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Yt(t[n])}}function _t(e,t){dt(e);var n=pt(e),i=(Q||e.f&ne)&&e.deps!==null?ee:F;I(e,i),e.equals(n)||(e.v=n,Ue(e,D,t))}function Yt(e){dt(e),we(e,0),I(e,re),e.first=e.last=e.deps=e.reactions=e.fn=null}function $t(){throw new Error("effect_update_depth_exceeded")}function Wt(e){throw new Error("lifecycle_outside_component")}const vt=0,Gt=1;let ve=vt,me=!1,X=!1,ze=!1;function Ze(e){X=e}function Je(e){ze=e}let B=[],Z=0,L=null,w=null,T=null,b=0,j=null;function Qt(e){j=e}let z=!1,Q=!1,g=null;function Le(){return g!==null&&g.l===null}function fe(e){var u;var t=e.f;if(t&D)return!0;if(t&ee){var n=e.deps,i=(t&ne)!==0;if(n!==null)for(var r=n.length,l=0;l<r;l++){var o=n[l];if(fe(o)&&(_t(o,!0),e.f&D))return!0;var c=o.version;if(i){if(c>e.version)return e.version=c,!0;if(!Q&&!((u=o==null?void 0:o.reactions)!=null&&u.includes(e))){var s=o.reactions;s===null?o.reactions=[e]:s.push(e)}}}i||I(e,F)}return!1}function pt(e){const t=T,n=b,i=j,r=L,l=Q,o=z;T=null,b=0,j=null,L=e,Q=!X&&(e.f&ne)!==0,z=!1;try{let c=e.fn(),s=e.deps;if(T!==null){let u;if(s!==null){const d=s.length,a=b===0?T:s.slice(0,b).concat(T),f=a.length>16&&d-b>1?new Set(a):null;for(u=b;u<d;u++){const _=s[u];(f!==null?!f.has(_):!a.includes(_))&&ht(e,_)}}if(s!==null&&b>0)for(s.length=b+T.length,u=0;u<T.length;u++)s[b+u]=T[u];else e.deps=s=T;if(!Q)for(u=b;u<s.length;u++){const d=s[u],a=d.reactions;a===null?d.reactions=[e]:a[a.length-1]!==e&&a.push(e)}}else s!==null&&b<s.length&&(we(e,b),s.length=b);return c}finally{T=t,b=n,j=i,L=r,Q=l,z=o}}function ht(e,t){const n=t.reactions;let i=0;if(n!==null){i=n.length-1;const r=n.indexOf(e);r!==-1&&(i===0?t.reactions=null:(n[r]=n[i],n.pop()))}i===0&&t.f&ne&&(I(t,D),we(t,0))}function we(e,t){const n=e.deps;if(n!==null){const i=t===0?null:n.slice(0,t);let r;for(r=t;r<n.length;r++){const l=n[r];(i===null||!i.includes(l))&&ht(e,l)}}}function He(e){let t=e.first;e.first=null,e.last=null;for(var n;t!==null;)n=t.next,ge(t),t=n}function Ee(e){var t=e.f;if(!(t&re)){I(e,F);var n=e.ctx,i=w,r=g;w=e,g=n;try{t&st||He(e),at(e);var l=pt(e);e.teardown=typeof l=="function"?l:null}finally{w=i,g=r}}}function mt(){Z>1e3&&(Z=0,$t()),Z++}function yt(e){for(var t=0;t<e.length;t++){var n=e[t];Zt(n,te|pe)}}function et(e){var t=e.length;if(t!==0){mt();for(var n=0;n<t;n++){var i=e[n];!(i.f&(re|K))&&fe(i)&&Ee(i)}}}function Xt(){if(me=!1,Z>101)return;const e=B;B=[],yt(e),me||(Z=0)}function be(e){ve===vt&&(me||(me=!0,queueMicrotask(Xt)));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&P){if(!(n&F))return;I(t,ee)}}B.push(t)}function gt(e,t,n,i){var r=e.first,l=[];e:for(;r!==null;){var o=r.f,c=(o&(re|K))===0,s=o&P,u=(o&F)!==0,d=r.first;if(c&&(!s||!u)){if(s&&I(r,F),o&te){if(s){if(!n&&d!==null){r=d;continue}}else if(fe(r)&&(Ee(r),d=r.first),!n&&d!==null){r=d;continue}}else if(o&pe)if(s||u){if(!n&&d!==null){r=d;continue}}else l.push(r)}var a=r.next;if(a===null){let _=r.parent;for(;_!==null;){if(e===_)break e;var p=_.next;if(p!==null){r=p;continue e}_=_.parent}}r=a}if(l.length>0&&(t&pe&&i.push(...l),!n))for(var f=0;f<l.length;f++)gt(l[f],t,!1,i)}function Zt(e,t,n=!1){var i=[],r=X;X=!0;try{e.first===null&&!(e.f&P)?et([e]):(gt(e,t,n,i),et(i))}finally{X=r}}function wt(e,t=!0){var n=ve,i=B;try{mt();const l=[];ve=Gt,B=l,t&&yt(i);var r=e==null?void 0:e();return(B.length>0||l.length>0)&&wt(),Z=0,r}finally{ve=n,B=i}}function A(e){const t=e.f;if(t&re)return e.v;if(L!==null&&!(L.f&(P|Fe))&&!z){const n=(L.f&ne)!==0,i=L.deps;T===null&&i!==null&&i[b]===e&&!(n&&w!==null)?b++:(i===null||b===0||i[b-1]!==e)&&(T===null?T=[e]:T.push(e)),j!==null&&w!==null&&w.f&F&&!(w.f&P)&&j.includes(e)&&(I(w,D),be(w))}return t&Pe&&fe(e)&&_t(e,!1),e.v}function Ue(e,t,n){var i=e.reactions;if(i!==null)for(var r=Le(),l=i.length,o=0;o<l;o++){var c=i[o];if(!((!n||!r)&&c===w)){var s=c.f;I(c,t);var u=(s&ee)!==0,d=(s&ne)!==0;(s&F||u&&d)&&(c.f&Pe?Ue(c,ee,n):be(c))}}}function Ve(e){const t=z;try{return z=!0,e()}finally{z=t}}const Jt=~(D|ee|F);function I(e,t){e.f=e.f&Jt|t}function en(e){return typeof e=="object"&&e!==null&&typeof e.f=="number"}function Et(e,t=!1,n){g={p:g,c:null,e:null,m:!1,s:e,x:null,l:null},t||(g.l={s:null,u:null,r1:[],r2:O(!1)})}function bt(e){const t=g;if(t!==null){e!==void 0&&(t.x=e);const n=t.e;if(n!==null){t.e=null;for(let i=0;i<n.length;i++)ye(n[i])}g=t.p,t.m=!0}return e||{}}function tn(e){return en(e)?A(e):e}var U,ie,tt,xt,Be,Tt;function nn(){U===void 0&&(U=Node.prototype,ie=Element.prototype,tt=Text.prototype,U.appendChild,xt=U.cloneNode,ie.__click=void 0,tt.__nodeValue=" ",ie.__className="",ie.__attributes=null,Be=G(U,"firstChild").get,Tt=G(U,"nextSibling").get,G(U,"textContent").set,G(ie,"className").set)}function rn(e,t){return xt.call(e,t)}function xe(){return document.createTextNode("")}function q(e){return Be.call(e)}function ln(e,t){return Be.call(e)}function m(e,t=!1){return Tt.call(e)}function on(e){for(var t=0;t<e.length;t++)kt.add(e[t]);for(var n of Ie)n(e)}function nt(e,t){var a;var n=e.ownerDocument,i=t.type,r=((a=t.composedPath)==null?void 0:a.call(t))||[],l=r[0]||t.target;t.target!==l&&Ne(t,"target",{configurable:!0,value:l});var o=0,c=t.__root;if(c){var s=r.indexOf(c);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var u=r.indexOf(e);if(u===-1)return;s<=u&&(o=s+1)}l=r[o]||t.target,Ne(t,"currentTarget",{configurable:!0,get(){return l||n}});function d(p){var f=p.parentNode||p.host||null;try{var _=p["__"+i];if(_!==void 0&&!p.disabled)if(J(_)){var[y,...E]=_;y.apply(p,[t,...E])}else _.call(p,t)}finally{!t.cancelBubble&&f!==e&&f!==null&&p!==e&&d(f)}}try{d(l)}finally{t.__root=e,l=e}}function sn(e){var t;t=document.head.appendChild(xe());try{qe(()=>e(t))}finally{}}const kt=new Set,Ie=new Set;function un(e,t){const n=e.__nodeValue,i=an(t);n!==i&&(e.nodeValue=i,e.__nodeValue=i)}function an(e){return typeof e=="string"?e:e==null?"":e+""}function fn(e,t){const n=t.anchor??t.target.appendChild(xe());return wt(()=>cn(e,{...t,anchor:n}),!1)}function cn(e,{target:t,anchor:n,props:i={},events:r,context:l,intro:o=!1}){nn();const c=new Set,s=nt.bind(null,t),u=nt.bind(null,document),d=f=>{for(let _=0;_<f.length;_++){const y=f[_];c.has(y)||(c.add(y),t.addEventListener(y,s,Ge.includes(y)?{passive:!0}:void 0),document.addEventListener(y,u,Ge.includes(y)?{passive:!0}:void 0))}};d(Ct(kt)),Ie.add(d);let a;const p=Bt(()=>(ue(()=>{if(l){Et({});var f=g;f.c=l}r&&(i.$$events=r),a=e(n,i)||{},l&&bt()}),()=>{for(const f of c)t.removeEventListener(f,s);Ie.delete(d),rt.delete(a)}));return rt.set(a,p),a}let rt=new WeakMap;function it(e,t,n,i=null,r=!1){var l=null,o=null,c=null,s=r?De:0;qe(()=>{c!==(c=!!t())&&(c?(l?he(l):l=ue(()=>n(e)),o&&Oe(o,()=>{o=null})):(o?he(o):i&&(o=ue(()=>i(e))),l&&Oe(l,()=>{l=null})))},s)}function At(e,t=w){var n=t.dom;return n===null?t.dom=e:(J(n)||(n=t.dom=[n]),J(e)?n.push(...e):n.push(e)),e}function ce(e,t){var n=(t&Mt)!==0,i=(t&qt)!==0,r;return()=>{r||(r=jt(e),n||(r=r.firstChild));var l=i?document.importNode(r,!0):rn(r,!0);return At(n?[...l.childNodes]:l),l}}function dn(e,t){var n=!0,i=ce(e,t);return()=>{var r=i();return n&&(n=!1,_n(r)),r}}function _n(e){const t=e.tagName==="SCRIPT"?[e]:e.querySelectorAll("script");for(const r of t){var n=document.createElement("script");for(var i of r.attributes)n.setAttribute(i.name,i.value);n.textContent=r.textContent,r===e?ye(()=>r.replaceWith(n)):r.replaceWith(n)}}function le(e,t){e.before(t)}let Ae=null;function vn(e,t){return t}function pn(e,t,n){for(var i=[],r=e.length,l=0;l<r;l++)je(e[l].e,i,!0);if(r>0&&i.length===0&&t!==null){var o=t.parentNode;o.textContent="",o.append(t)}ft(i,()=>{for(var c=0;c<r;c++)ge(e[c].e);n!==void 0&&n()})}function hn(e,t,n,i,r,l=null){var o={flags:t,items:new Map,next:null},c=(t&ut)!==0;if(c){var s=e;e=s.appendChild(xe())}var u=null;qe(()=>{var d=n(),a=J(d)?d:d==null?[]:Array.from(d),p=a.length,f=o.flags;f&Se&&!ot(a)&&!(k in a)&&(f^=Se,f&Ft&&!(f&se)&&(f^=se)),mn(a,o,e,r,f,i),l!==null&&(p===0?u?he(u):u=ue(()=>l(e)):u!==null&&Oe(u,()=>{u=null}))})}function mn(e,t,n,i,r,l){var Ke,Ye,$e,We;var o=(r&Dt)!==0,c=(r&(se|Me))!==0,s=e.length,u=t.items,d=t.next,a=d,p=new Set,f=t,_=new Set,y=[],E=[],x,N,v,h;if(o)for(h=0;h<s;h+=1)x=e[h],N=l(x,h),v=u.get(N),v!==void 0&&((Ke=v.a)==null||Ke.measure(),_.add(v));for(h=0;h<s;h+=1){if(x=e[h],N=l(x,h),v=u.get(N),v===void 0){var Y=At(xe()),H=a?a.o:n;H.before(Y),f=gn(Y,H,f,f.next,x,N,h,i,r),u.set(N,f),y=[],E=[],a=f.next;continue}if(c&&yn(v,x,h,r),v.e.f&K&&(he(v.e),o&&((Ye=v.a)==null||Ye.unfix(),_.delete(v))),v!==a){if(p.has(v)){if(y.length<E.length){var M=E[0],S;f=M.prev;var de=y[0],_e=y[y.length-1];for(S=0;S<y.length;S+=1)lt(y[S],M,n);for(S=0;S<E.length;S+=1)p.delete(E[S]);V(de.prev,_e.next),V(f,de),V(_e,M),a=M,f=_e,h-=1,y=[],E=[]}else p.delete(v),lt(v,a,n),V(v.prev,v.next),V(v,f.next),V(f,v),f=v;continue}for(y=[],E=[];a!==null&&a.k!==N;)p.add(a),E.push(a),a=a.next;if(a===null)continue;v=a}y.push(v),f=v,a=v.next}const R=Array.from(p);for(;a;)R.push(a),a=a.next;var Te=r&ut&&s===0?n:null;if(o){for(h=0;h<R.length;h+=1)($e=R[h].a)==null||$e.measure();for(h=0;h<R.length;h+=1)(We=R[h].a)==null||We.fix()}pn(R,Te,()=>{for(var $=0;$<R.length;$+=1){var ke=R[$];u.delete(ke.k),V(ke.prev,ke.next)}}),o&&ye(()=>{Ve(()=>{var $;for(v of _)($=v.a)==null||$.apply()})})}function yn(e,t,n,i){i&se&&C(e.v,t),i&Me?C(e.i,n):e.i=n}function gn(e,t,n,i,r,l,o,c,s){var u=Ae;try{var d=(s&se)!==0,a=(s&Se)===0,p=d?a?Re(r):O(r):r,f=s&Me?O(o):o,_={i:f,v:p,k:l,a:null,e:null,o:e,prev:n,next:i};return n.next=_,i!==null&&(i.prev=_),Ae=_,_.e=ue(()=>c(t,p,f)),_}finally{Ae=u}}function lt(e,t,n){for(var i=e.next?e.next.o:n,r=t?t.o:n,l=e.o;l!==i;){var o=l.nextSibling;r.before(l),l=o}}function V(e,t){e.next=t,t!==null&&(t.prev=e)}function wn(e,t,n){n=n==null?null:n+"";var i=e.__attributes??(e.__attributes={});i[t]!==(i[t]=n)&&(n===null?e.removeAttribute(t):e.setAttribute(t,n))}function Ce(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function En(e){g===null&&Wt(),g.l!==null?bn(g).m.push(e):Vt(()=>{const t=Ve(e);if(typeof t=="function")return t})}function bn(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const xn="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xn);const Tn="/clangen/loading.gif";var kn=dn(`<link rel="preload" href="loading.gif" as="image"> <link rel="prefetch" href="https://pygame-web.github.io/archives/0.9/pythonrc.py"> <link rel="prefetch" href="https://pygame-web.github.io/archives/0.9/vt/xterm.js"> <link rel="prefetch" href="https://pygame-web.github.io/archives/0.9/vt/xterm-addon-image.js"> <link rel="prefetch" href="https://pygame-web.github.io/archives/0.9/vt/xterm-addon-image.js"> <script src="https://pygame-web.github.io/archives/0.9/pythons.js" type="module" id="site" data-LINES="20" data-CONSOLE="25" data-python="python3.12" data-os="vtx,fs,snd,gui" async defer="">
async def load():
  import sys
  import asyncio
  import platform
  import json
  from pathlib import Path

  appdir = Path("/data/data/clangen")
  appdir.mkdir()

  import embed

  # mount apk

  cfg = {
      "io": "url",
      "type":"mount",
      "mount" : {
          "point" : appdir.as_posix(),
          "path" : "/",
      },
      "path" : f"/ => {appdir.as_posix()}",
  }


  track = platform.window.MM.prepare("https://imlvna.github.io/clangen/clangen.apk", json.dumps(cfg))

  # wait until zip mount + overlayfs is complete
  while not track.ready:
      await asyncio.sleep(.1)

  # preloader will change dir and prepend it to sys.path
  platform.run_main(PyConfig, loaderhome= appdir / "assets", loadermain=None)


  # wait preloading complete
  # that includes images and wasm compilation of bundled modules
  while embed.counter()<0:
      await asyncio.sleep(.1)

  def ui_callback(pkg, error=None):
    if error:
        platform.window.gameError(error)

  main = appdir / "assets" / "webMain.py"

  # start async top level machinery and add a console.
  await TopLevel_async_handler.start_toplevel(platform.shell, console=window.python.config.debug)

  # now that apk is mounted we have access to font cache
  # but we need to fill __file__ that is not yet set
  __import__(__name__).__file__ = str(main)

  await shell.runpy(main, callback=ui_callback)
import asyncio
asyncio.run(load())
  <\/script> <script src="https://pygame-web.github.io/archives/0.9/browserfs.min.js"><\/script>`,1),An=ce('<button class="termButton min-h-screen w-6 bg-gray-800"></button>'),Cn=ce("<pre> </pre>"),Nn=()=>window.location.reload(),Sn=ce('<div class="absolute top-0 left-0 size-full flex flex-col justify-center align-middle items-center"><div class="bg-gray-800 p-4 rounded-lg min-h-1/2 w-1/2 flex flex-col justify-center align-middle text-center items-center"><h1 class="text-2xl text-red-500">The Game Crashed</h1> <code></code> <div class="flex flex-row gap-3"><button class="bg-gray-600 p-2 rounded-lg">Reload</button> <button class="bg-gray-600 p-2 rounded-lg">Open Logs</button></div></div></div>'),Rn=ce('<main class="bg-gray-700 size-full min-h-screen min-w-screen text-white flex flex-col justify-center align-middle"><div class="flex flex-row justify-center align-middle items-center size-full"><canvas id="canvas" class="aspect-square !w-screen !h-auto md:!h-screen lg:!h-screen md:!w-auto lg:!w-auto"></canvas> <img class="size-1/2 md:size-1/4 lg:size-1/6" alt="Loading..."></div> <div class="console h-full max-w-2/3 flex flex-row absolute top-0 left-0 z-50"><div class="flex flex-row size-full"><div id="pyconsole" class="h-full svelte-1qdmv1v"><div id="terminal" class="size-full"></div></div> <!></div></div> <!> <div id="dlg_multifile" class="hidden"></div> <div id="html" class="hidden"></div> <canvas id="canvas3d" class="hidden"></canvas></main>');function On(e,t){Et(t,!0);let n=O(!1),i=O(!1),r=O(!1),l=O(void 0);const o=()=>{C(n,!A(n)),A(n)&&C(i,!0)};En(async()=>{window.toggleDebug=o,window.gameReady=()=>C(r,!0),window.gameError=x=>C(l,oe(x));const E=new URL(window.location.href);(E.searchParams.has("-i")||E.searchParams.has("debug"))&&o()});var c=Rn();sn(E=>{var x=kn(),N=ln(x),v=m(m(N,!0)),h=m(m(v,!0)),Y=m(m(h,!0)),H=m(m(Y,!0)),M=m(m(H,!0)),S=m(m(M,!0));le(E,x)});var s=q(c),u=q(s),d=m(m(u,!0));wn(d,"src",Tn);var a=m(m(s,!0)),p=q(a),f=q(p),_=m(m(f,!0));it(_,()=>A(i),E=>{var x=An();x.__click=o,le(E,x)});var y=m(m(a,!0));it(y,()=>A(l),E=>{var x=Sn(),N=q(x),v=q(N),h=m(m(v,!0));hn(h,73,()=>A(l).split(`
`),vn,(S,de,_e)=>{var R=Cn(),Te=q(R);Qe(()=>un(Te,tn(de))),le(S,R)});var Y=m(m(h,!0)),H=q(Y);H.__click=[Nn];var M=m(m(H,!0));M.__click=o,le(E,x)}),Qe(()=>{Ce(u,"hidden",!A(r)),Ce(d,"hidden",A(r)),Ce(f,"collapsed",!A(n))}),le(e,c),bt()}on(["click"]);fn(On,{target:document.getElementById("app")});
